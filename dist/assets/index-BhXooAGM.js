(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function w(t,e=32){return t?`/.netlify/images?url=${encodeURIComponent(t)}&w=${e}`:""}const m={Aggressive:"Free Combat I promotion for melee and gunpowder units. Double production speed of Barracks and Drydock.",Agressive:"Free Combat I promotion for melee and gunpowder units. Double production speed of Barracks and Drydock.",Charismatic:"+1 happiness per city. -25% XP needed for unit promotions. Double production speed of Broadcast Tower and Monument.",Creative:"+2 culture per city. Double production speed of Colosseum and Theatre.",Expansive:"+2 health per city. Double production speed of Granary and Harbor.",Financial:"+1 commerce on tiles that already produce 2+ commerce.",Imperialistic:"+100% Great General emergence. Double production speed of Settler.",Industrious:"+50% wonder production. Double production speed of Forge.",Organized:"-50% civic upkeep. Double production speed of Courthouse and Lighthouse.",Philosophical:"+100% Great People birth rate. Double production speed of University.",Protective:"Free Drill I and City Garrison I for archery and gunpowder units. Double production speed of Walls and Castle.",Spiritual:"No anarchy when switching civics. Double production speed of Temple and Monastery."},h={Agriculture:"Enables Farms. Required for Pottery, Animal Husbandry.",Fishing:"Enables Fishing Boats and Work Boats. Required for Sailing, Pottery.",Hunting:"Enables Camps for furs, ivory, and deer. Required for Archery, Animal Husbandry.",Mining:"Enables Mines on hills. Required for Bronze Working, Masonry.",Mysticism:"Enables Monuments. Required for Meditation, Polytheism.","The Wheel":"Enables Roads and Chariots. Required for Pottery, Horseback Riding."},S={"Navy SEAL":"Replaces Marine. Can use enemy roads, 1-2 First Strikes, starts with March.","Camel Archer":"Replaces Knight. Immune to First Strikes, no penalty attacking cities.",Jaguar:"Replaces Swordsman. +10% city attack, starts with Woodsman I.",Bowman:"Replaces Archer. +50% vs melee units.",Cataphract:"Replaces Knight. +100% vs mounted units.","Numidian Cavalry":"Replaces Horse Archer. +50% vs mounted units.","Gallic Warrior":"Replaces Swordsman. +20% vs melee units.","Cho-Ko-Nu":"Replaces Crossbowman. Can fire twice per turn.","East Indiaman":"Replaces Galleon. Can defend itself, +2 cargo space.","War Chariot":"Replaces Chariot. Immune to First Strikes, no copper/horse requirement.","War Elephant":"Replaces Chariot. +50% vs mounted, doesn't require horses.",Redcoat:"Replaces Rifleman. +25% vs Gunpowder units.","Oromo Warrior":"Replaces Musketman. Starts with Drill I and II.",Musketeer:"Replaces Musketman. +25% attack bonus.",Panzer:"Replaces Tank. +50% vs armored units, starts with Blitz.",Phalanx:"Replaces Spearman. +100% vs chariots.",Landsknecht:"Replaces Pikeman. +100% vs melee units, earns gold from combat.",Quechua:"Replaces Warrior. +100% vs archery units.","Fast Worker":"Replaces Worker. +1 movement point.",Immortal:"Replaces Chariot. +50% vs Archery units.",Samurai:"Replaces Maceman. Starts with Drill I and II.","Ballista Elephant":"Replaces War Elephant. +50% vs mounted, bombard ability.",Hwacha:"Replaces Catapult. +50% vs melee units.",Skirmisher:"Replaces Archer. 1-2 First Strikes.",Holkan:"Replaces Spearman. Doesn't require copper/iron.",Keshik:"Replaces Horse Archer. +1 movement, +25% vs catapults.","Dog Soldier":"Replaces Axeman. +100% vs melee units, doesn't require copper.",Janissary:"Replaces Musketman. +25% attack, starts with Pinch.","Immortal (Persia)":"Replaces Chariot. +50% vs Archery units.",Carrack:"Replaces Caravel. Can carry 2 units.",Praetorian:"Replaces Swordsman. Strength 8 instead of 6.",Cossack:"Replaces Cavalry. +50% vs mounted units.",Conquistador:"Replaces Knight. +50% vs melee, immune to First Strikes.",Vulture:"Replaces Axeman. +25% vs melee units.",Berserker:"Replaces Maceman. Starts with Amphibious, +10% city attack.",Impi:"Replaces Spearman. +100% vs mounted, 2 movement."},L={Mall:"Replaces Supermarket. +20% gold in city.",Madrassa:"Replaces Library. +2 culture.","Sacrificial Altar":"Replaces Courthouse. No maintenance, removes war weariness.",Garden:"Replaces Colosseum. +2 health, +2 happiness.",Hippodrome:"Replaces Theatre. +1 happiness from horses.",Cothon:"Replaces Harbor. +1 trade route.",Dun:"Replaces Walls. +20% espionage, free Guerrilla I.",Pavilion:"Replaces Theatre. +25% culture.",Dike:"Replaces Levee. +1 production per water tile.",Obelisk:"Replaces Monument. +2 culture, can turn into Great Prophet point.","Stock Exchange":"Replaces Bank. +15% gold bonus.",Citadel:"Replaces Castle. +5 XP for siege units.",Stele:"Replaces Monument. +25% culture.",Salon:"Replaces Observatory. +1 free artist.","Assembly Plant":"Replaces Factory. +25% production bonus.",Odeon:"Replaces Colosseum. +1 culture, +1 happiness.",Rathaus:"Replaces Courthouse. -75% maintenance.",Terrace:"Replaces Granary. +2 culture.",Seowon:"Replaces University. +10% research.",Mint:"Replaces Forge. +10% gold.","Ball Court":"Replaces Colosseum. +2 happiness from any state religion.",Ger:"Replaces Stable. +2 XP for mounted units.","Totem Pole":"Replaces Monument. +3 XP for archery units.",Hammam:"Replaces Aqueduct. +2 happiness.",Apothecary:"Replaces Grocer. +25% research with trade routes.",Feitoria:"Replaces Customs House. +50% trade route yield.",Forum:"Replaces Market. +25% Great People birth rate.",Ziggurat:"Replaces Courthouse. Available earlier, +1 culture.","Trading Post":"Replaces Market. +1 trade route.","Shale Plant":"Replaces Coal Plant. +10% production, cleaner.",Ikhanda:"Replaces Barracks. -50% maintenance in city."},s={leaders:[],selectedLeaders:{},traits:{},startingTechs:{},showSummary:!0},v=new Map,I=document.getElementById("leaders-table"),y=document.getElementById("summary-content"),C=document.getElementById("show-summary"),T=document.getElementById("selected-leaders-list"),x=document.getElementById("techs-summary"),M=document.getElementById("traits-summary");async function P(){window.innerWidth<768&&(s.showSummary=!1,C.checked=!1,y.classList.add("hidden"));const t=await fetch("/leaders.json");s.leaders=await t.json(),s.leaders.sort((e,r)=>e.civ!==r.civ?e.civ.localeCompare(r.civ):e.leader.localeCompare(r.leader)),s.leaders.forEach(e=>{s.selectedLeaders[e.leader]=!1}),b(),q(),E(),k(),C.addEventListener("change",D)}function b(){s.traits={},s.startingTechs={},s.leaders.forEach(t=>{t.traits.forEach(e=>{e in s.traits||(s.traits[e]=0)}),t.startingTechs.forEach(e=>{e in s.startingTechs||(s.startingTechs[e]=0)})}),s.leaders.forEach(t=>{s.selectedLeaders[t.leader]&&(t.traits.forEach(e=>{s.traits[e]++}),t.startingTechs.forEach(e=>{s.startingTechs[e]++}))})}function A(t){s.selectedLeaders[t]=!s.selectedLeaders[t],b(),E(),k()}function D(){s.showSummary=C.checked,s.showSummary?y.classList.remove("hidden"):y.classList.add("hidden")}function R(t,e={}){const r=document.createElement("ul");return r.className="list-disc list-inside",t.forEach(n=>{const a=document.createElement("li");a.textContent=n,a.dataset.item=n,e[n]&&(a.title=e[n],a.classList.add("cursor-help")),r.appendChild(a)}),r}function q(){s.leaders.forEach(t=>{const e=document.createElement("tr");e.className="leader-row border-b border-gray-100",e.dataset.leader=t.leader;const r=document.createElement("td");r.className="px-2 py-2 text-center";const n=document.createElement("input");n.type="checkbox",n.className="w-4 h-4 pointer-events-none",r.appendChild(n),e.appendChild(r);const a=document.createElement("td");a.className="px-2 py-2 font-medium",a.textContent=t.leader,e.appendChild(a);const o=document.createElement("td");o.className="px-2 py-2";const i=document.createElement("div");i.className="flex items-center gap-2";const d=document.createElement("img");d.src=w(t.civImage,32),d.alt=t.civ,d.className="w-8 h-8 object-contain";const p=document.createElement("span");p.textContent=t.civ,i.appendChild(d),i.appendChild(p),o.appendChild(i),e.appendChild(o);const c=document.createElement("td");c.className="px-2 py-2",c.appendChild(R(t.traits,m)),e.appendChild(c);const u=document.createElement("td");u.className="px-2 py-2",u.appendChild(R(t.startingTechs,h)),e.appendChild(u);const f=document.createElement("td");if(f.className="px-2 py-2",t.uniqueUnit){const l=document.createElement("span");l.textContent=t.uniqueUnit,l.className="cursor-help",l.title=S[t.uniqueUnit]||"",f.appendChild(l)}e.appendChild(f);const g=document.createElement("td");if(g.className="px-2 py-2",t.uniqueBuilding){const l=document.createElement("span");l.textContent=t.uniqueBuilding,l.className="cursor-help",l.title=L[t.uniqueBuilding]||"",g.appendChild(l)}e.appendChild(g),v.set(t.leader,{row:e,checkbox:n,traitsCell:c,techsCell:u}),e.addEventListener("click",()=>A(t.leader)),I.appendChild(e)})}function E(){s.leaders.forEach(t=>{const e=v.get(t.leader);if(!e)return;const{row:r,checkbox:n,traitsCell:a,techsCell:o}=e,i=s.selectedLeaders[t.leader];r.classList.toggle("selected",i),n.checked=i;let d=!1,p=!1;i||(t.traits.forEach(c=>{s.traits[c]>0&&(d=!0)}),t.startingTechs.forEach(c=>{s.startingTechs[c]>0&&(p=!0)})),a.classList.toggle("bg-red-100",!i&&d),o.classList.toggle("bg-red-100",!i&&p),a.querySelectorAll("li").forEach(c=>{const u=c.dataset.item;c.classList.toggle("line-through",s.traits[u]>0)}),o.querySelectorAll("li").forEach(c=>{const u=c.dataset.item;c.classList.toggle("line-through",s.startingTechs[u]>0)})})}function k(){const t=s.leaders.filter(e=>s.selectedLeaders[e.leader]);T.innerHTML=t.map(e=>`<li>${e.leader} (${e.civ})</li>`).join(""),x.innerHTML=Object.keys(s.startingTechs).sort().map(e=>{const r=s.startingTechs[e];let n="";r===0?n="text-gray-400":r>1&&(n="text-orange-500");const a=h[e]?` title="${h[e].replace(/"/g,"&quot;")}"`:"",o=h[e]?" cursor-help":"";return`<li class="${n}${o}"${a}>${e} x ${r}</li>`}).join(""),M.innerHTML=Object.keys(s.traits).sort().map(e=>{const r=s.traits[e];let n="";r===0?n="text-gray-400":r>1&&(n="text-orange-500");const a=m[e]?` title="${m[e].replace(/"/g,"&quot;")}"`:"",o=m[e]?" cursor-help":"";return`<li class="${n}${o}"${a}>${e} x ${r}</li>`}).join("")}P();
